\section{面向开放组织的迷你看板设计}
\subsection{需求设计}
\par 当前，由于代码托管平台仅在项目或个人主页上呈现低阶的指标数据和有限的高阶指标数据，用户无法查看自定义的高阶指标数据，从而无法在较短时间内深入了解该项目或用户。面向开放组织的迷你看板最主要的目的与动机是直观清晰地展示项目高阶指标数据，并让这种可视化展现与项目本身无缝结合，充分发挥其助力能力，让用户能够轻松地把握各项项目“体征”，降低心智成本。在这一方面，对市面上已有的同类型看板应用进行调查，发现它们大都以独立的平台、网站的形式呈现，用户跨平台操作具有一定的门槛，且这样呈现的效果的直观程度大打折扣。

\par 从另一个方面，作为Hypertrons的前端拓展，迷你看板可以改善Hypertrons的使用体验，补全Hypertrons在浏览器端的交互能力，为用户带来更加快速的开发、协作体验。比如，在Hypertrons项目中，存在一些场景下的交互指令（如self-assign 等命令）需要手输，容易致使用户忘记或输入错误，但如果看板应用将手输代码指令这一个动作包装成为一个前端页面的按钮点击动作，那么用户就可以更快更好地达成操作。%//TODO：另外，在权限管理方面，无法对具有高权限的用户也实施自行代码合并、 PR review 机制等良好的社区规范，即：有权限的用户仍然可以自行合并代码；

\subsection{总体设计}
% \subsubsection{产品定位}
% chrome extension：由于不希望深度改变用户的使用习惯，故发起一个浏览器插件项目，通过在特定网址的网页中插入迷你看板的方式为开放组织提供有效的监控和运营手段。
% 目标：
% ​直观清晰地展示项目高阶指标数据，与项目本身无缝结合，让用户轻松把握各项项目“体征”，降低心智成本。
% 改善 Hypertrons 使用体验，补全 Hypertrons 在 Browser 端能力，为用户带来更加便捷的开发、协作体验
\par 根据以上需求分析，面向开放组织的迷你看板其最主要的目的是辅助开源社区，并不希望深度改变用户的使用习惯，故在产品定位上，选择了浏览器插件的形式。该浏览器插件将运行在网页端，通过检测当前浏览页面url的方式，为带有特定域名（目标开源平台域名）的网页插入迷你看板，并提供可以由用户自定义的图表设置选项，达到向开放组织提供有效的监控和运营手段的最终目标。


\subsection{功能设计}
% 【用户角度、业务逻辑】
% 高可配的数字化看板
% 跨平台交互
% 实时消息通知
% 配置管理
% 身份认证与权限管理
\subsubsection{高可配的数字化看板}
\par 数字化看板即在前端页面插入的可视化图表部分，也是该插件的最主要功能。它面向不同身份的用户，根据用户设置来展示定制的图表内容。当浏览器加载开源平台的页面时，插件将根据所加载页面对应的数据分析方法（个人主页对应3.2、项目主页对应3.3、组织主页对应3.3），提供用于分析的几个维度所对应的所有图表；而用户则在插件设置选项中选择性地开启或关闭特定图表，以达到定制化的目的。
\par 特别地，在项目主页中，根据用户角色模型将用户分为User 、Contributor、Committer。在针对不同用户展示个性化的项目情况数字看板时：
a.	如果当前用户为User，则展示该项目的基本信息，如Star数、Contributor数、软件下载数等，帮助用户建立对整个项目的初步的整体认识。同时可通过一定的手段吸引并将该用户转化为贡献者，例如，列出标签为“good-first-issue”的Issue列表，引导用户为该项目做贡献。
b.	如果当前用户为项目的Contributor，则展示该名贡献者过去一段时间的贡献列表(Issue 或PR等），并显示该用户所贡献的Issue或PR的最新动态，同时鼓励用户持续贡献。
c.	如果当前用户为项目的Committer，则监控与项目健康度相关的一些指标，如 Issue 或 PR 的相应时间、项目贡献者及隶属组织多样性等，帮助 Committer 建立对项目现状及演化趋势的整体把握。
d.	如果当前用户为项目的运营人员，则可以展示与项目运营活动相关的指标。


\subsubsection{跨平台交互}
\par 跨平台交互在本项目中指:来自不同系统、平台的用户，都可以在前端页面中实时地输入特定的指令来获取相应的支持，而不需要配置对应的本地环境，如：在浏览器页面键入/help指令查看帮助，或使用受支持的/sendMsg指令向其他平台发送自定义消息。

\subsubsection{跨平台实时消息通知}
\par 通过浏览器的消息通知机制，可以提供跨平台消息实时通知能力。例如，当项目发布新版本或者有其他新闻通知时，hypertrons 后端将消息推送给所有已安装的拓展程序，浏览器的消息服务将会唤醒用户安装的拓展程序，由拓展程序分析得到的消息数据，并创建通知，这样，不同身份的用户即可收到个性化的消息通知。

\subsubsection{配置管理}
\par 用户可以在扩展程序的菜单栏中对配置进行修改，例如是否启用数字化看板、跨平台交互以及跨平台实时消息通知等功能。另外，可以考虑支持用户对本地页面的数字化看板进行配置，将这些配置存放于本地，覆盖默认的看板配置。

\subsubsection{身份认证与权限管理}
\par 身份认证与权限管理是 Hypertrons 的核心功能之一。迷你项目看板可在浏览器前端页面中为用户提供身份认证入口，引导用户前往相关平台进行 Oauth 认证，并将用户的身份认证信息保存至 Hypertrons 后端，为用户行为数据分析与精细化运营提供基础。同时，为了支持用户进行跨平台交互操作，可支持用户在扩展程序中配置不同平台的 Token。


\subsection{运营方式}
% 三个会员等级付费制度，Basic做引流，Detailed展示项目/开发者细节和基础数据聚合，Advanced展示高级指标和深度分析结果
\par 迷你看板插件的安装与使用是开源并免费的，但对看板的可视化内容实行会员等级付费制度，即根据对数据的分析程度与内容信息量，将图表分为Based、Detailed、Advanced三个级别。其中Basic做引流，给用户展示所有组件的样例，含有最基本的数据信息；Detailed则展示项目/开发者细节和基础数据聚合；Advanced展示高级指标和深度分析结果。组件根据所属的等级区间标价，由用户定制化选择搭配，根据最终的组件组合收费。

% //TODO: 要不要写同时反过来记录用户的深度使用信息？